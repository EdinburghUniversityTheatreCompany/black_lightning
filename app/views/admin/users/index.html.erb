<% headers = [:name, :email, :student_id, :associate_id] %>

<% field_sets = @users.map { |user| {
  fields: [
    user,
    user.email,
    user.student_id,
    user.associate_id
  ] } } %>

<% search_fields = {
    full_name_cont:     { slug: 'defaults.name' },
    email_cont:         { slug: 'defaults.email' },
    member_id_cont:     { slug: 'defaults.member_id', label: 'Student/Associate ID' },
    bio_cont:           { slug: 'defaults.bio' },
    show_non_members:   { slug: 'defaults.show_non_members', type: :boolean },

    random_button:      { slug: 'defaults.random_button', type: :submit_button, action: :Random }
} %>

<% quick_actions = [] %>
<% if can? :manage, :user_import %>
  <% quick_actions << link_to("Bulk User Import", new_admin_user_import_path, class: "btn btn-secondary") %>
<% end %>

<%= render 'shared/pages/index', resource_class: User, resources: @users, headers: headers, field_sets: field_sets, search_fields: search_fields, quick_actions: quick_actions %>
