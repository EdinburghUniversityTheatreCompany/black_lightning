<% quick_actions = get_link(Admin::Proposals::Proposal, :new, additional_condition: @call.open?, query_params: { call_id: @call.id }).presence || '' %>
<% quick_actions += get_link(@call, :edit, append_name: true) %>
<% quick_actions += get_link(Admin::Proposals::Call, :index, link_text: 'Back To Calls') %>

<% quick_actions = quick_actions.html_safe %>

<% content = render('admin/proposals/proposals/index_content') %>

<% search_fields = {
    show_title_cont:      { slug: 'defaults.show' },
    proposal_text_cont:   { slug: 'defaults.proposal_text'},
    publicity_text_cont:  { slug: 'defaults.proposal_text'}
} %>

<%= render 'shared/pages/index', resource_class: Admin::Proposals::Proposal, resources: @proposals, content: content, 
  show_new_button: false, quick_actions: quick_actions %>
