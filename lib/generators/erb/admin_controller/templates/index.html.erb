<%% headers = ['View', <%= attributes.map{ |attribute| ":#{attribute.name}" }.join(', ') %>] %>

<%% field_sets = @<%= resource_name.pluralize %>.map { |<%= resource_name %>| {
  fields: [
    <%= resource_name %>,  
  <%- attributes.each do |attribute| -%>
    <%= "#{resource_name}.#{attribute.name}," %>
  <%- end -%>
  ] } } %>

<%% search_fields = {
  <%- attributes.each do |attribute| -%>
    <%= "#{attribute.name}_cont: { slug: 'defaults.#{attribute.name}' }," %>
  <%- end -%>
} %>

<%%= render 'shared/pages/index', resource_class: <%= class_name %>, resources: @<%= resource_name.pluralize %>, headers: headers, field_sets: field_sets, search_fields: search_fields %>
